<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Watchow Ads - Level Up Your Earnings!</title>
    <meta name="description" content="Earn real money by watching advertisements. Level up your Watcher Rank from Iron to Diamond to earn more per view! Join Watchow Ads.">
    <meta property="og:title" content="Watchow Ads - Level Up Your Earnings!">
    <meta property="og:description" content="Earn more by leveling up your Watcher Rank! Watch ads, increase your rank (Iron, Golden, Diamond), and boost your earnings.">
    <meta property="og:type" content="website">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js"; 
        import { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword, sendEmailVerification, signOut, onAuthStateChanged, updateProfile, sendPasswordResetEmail } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";
        import { getFirestore, doc, setDoc, getDoc, collection, addDoc, updateDoc, query, where, getDocs, orderBy } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyC7Jopijukx03cCb3afxis4rNyCwaTfdEU",
            authDomain: "telegram-mini-app-5317d.firebaseapp.com",
            projectId: "telegram-mini-app-5317d",
            storageBucket: "telegram-mini-app-5317d.firebasestorage.app",
            messagingSenderId: "1041950381404",
            appId: "1:1041950381404:web:b2ba165c91a72cb9db9d99",
            measurementId: "G-5K039NHVKP"
        };
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        window.firebaseApp = app; window.auth = auth; window.db = db;
        window.signInWithEmailAndPassword = signInWithEmailAndPassword; window.createUserWithEmailAndPassword = createUserWithEmailAndPassword;
        window.sendEmailVerification = sendEmailVerification; window.signOut = signOut; window.onAuthStateChanged = onAuthStateChanged;
        window.updateProfile = updateProfile; window.sendPasswordResetEmail = sendPasswordResetEmail;
        window.doc = doc; window.setDoc = setDoc; window.getDoc = getDoc; window.collection = collection; window.addDoc = addDoc;
        window.updateDoc = updateDoc; window.query = query; window.where = where; window.getDocs = getDocs; window.orderBy = orderBy;
    </script>
    <script src='//libtl.com/sdk.js' data-zone='9388838' data-sdk='show_9388838'></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Landing Page -->
    <div id="landing-page" class="page active">
        <div class="bg-effects"><div class="floating-orb orb-1"></div><div class="floating-orb orb-2"></div><div class="floating-orb orb-3"></div></div>
        <header class="header"><div class="container"><div class="logo"><h1>Watchow <span class="gradient-text">Ads</span></h1></div><nav class="nav"><button class="btn btn-outline" onclick="showAuthModal('login')">Sign In</button><button class="btn btn-primary" onclick="showAuthModal('register')">Join Now</button></nav></div></header>
        <section class="hero"><div class="container"><div class="hero-content"><h2 class="hero-title">Earn Money By<br><span class="gradient-text">Watching Ads</span></h2><p class="hero-subtitle">Join thousands of users earning real money every day. Climb the <span class="gradient-text">Watcher Ranks</span> to boost your earnings per view! Simple, free, and legitimate.</p><div class="hero-buttons"><button class="btn btn-large btn-primary" onclick="showAuthModal('register')">ğŸš€ Start Earning Now</button><button class="btn btn-large btn-outline" onclick="scrollToElement('watcher-ranks-section')">ğŸ’ Explore Watcher Ranks</button></div><div class="security-badge">ğŸ›¡ï¸ 100% Safe & Secure</div></div></div></section>
        
        <!-- NEW: Watcher Ranks Section on Landing Page -->
        <section id="watcher-ranks-section" class="watcher-ranks-info">
            <div class="container">
                <h3 class="section-title">Unlock <span class="gradient-text">Watcher Ranks</span></h3>
                <p class="section-subtitle">The more ads you watch, the higher your Rank, and the more you earn on average!</p>
                <div class="levels-grid-landing">
                    <div class="level-card-landing iron">
                        <div class="level-card-landing-icon">ğŸ”©</div>
                        <h4>Iron Watcher</h4>
                        <p class="level-views-landing">0 - 1,999 Total Views</p>
                        <p class="level-rate-landing">Avg. <strong>$1 per 1,000</strong> Views</p>
                        <p class="level-desc-landing">Begin your journey and forge your path to higher earnings.</p>
                    </div>
                    <div class="level-card-landing golden">
                        <div class="level-card-landing-icon">ğŸŒŸ</div>
                        <h4>Golden Gazer</h4>
                        <p class="level-views-landing">2,000 - 9,999 Total Views</p>
                        <p class="level-rate-landing">Avg. <strong>$1 per 700</strong> Views</p>
                        <p class="level-desc-landing">Your dedication shines, unlocking greater reward potential.</p>
                    </div>
                    <div class="level-card-landing diamond">
                        <div class="level-card-landing-icon">ğŸ’</div>
                        <h4>Diamond Viewer</h4>
                        <p class="level-views-landing">10,000+ Total Views</p>
                        <p class="level-rate-landing">Avg. <strong>$1 per 500</strong> Views</p>
                        <p class="level-desc-landing">Master the art of ad watching and enjoy premium earnings.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="stats" class="stats"><div class="container"><div class="stats-grid"><div class="stat-card"><div class="stat-icon">ğŸ’°</div><h3 class="stat-value">Real</h3><p class="stat-label">Money Earned</p></div><div class="stat-card"><div class="stat-icon">ğŸ‘¥</div><h3 class="stat-value">50K+</h3><p class="stat-label">Active Users</p></div><div class="stat-card"><div class="stat-icon">â°</div><h3 class="stat-value">24/7</h3><p class="stat-label">Available</p></div></div></div></section>
        <section class="how-it-works"><div class="container"><h3 class="section-title">How It Works</h3><p class="section-subtitle">Three simple steps to start earning</p><div class="steps-grid"><div class="step-card"><div class="step-number">1</div><div class="step-icon">ğŸ‘¤</div><h4>Sign Up</h4><p>Create your free account with email verification. Takes less than 2 minutes.</p></div><div class="step-card"><div class="step-number">2</div><div class="step-icon">â–¶ï¸</div><h4>Watch Ads</h4><p>View engaging advertisements and earn money for each completed view. Higher ranks earn more!</p></div><div class="step-card"><div class="step-number">3</div><div class="step-icon">ğŸ’µ</div><h4>Get Paid</h4><p>Withdraw your earnings when you reach the $2.0 minimum threshold.</p></div></div></div></section>
        <section class="features"><div class="container"><h3 class="section-title">Why Choose Watchow?</h3><p class="section-subtitle">The most trusted platform for earning money online</p><div class="features-grid"><div class="feature-card"><div class="feature-icon">ğŸ›¡ï¸</div><h4>Secure & Safe</h4><p>Your data is protected with enterprise-grade security.</p></div><div class="feature-card"><div class="feature-icon">âš¡</div><h4>Instant Payouts</h4><p>Withdraw your earnings immediately with no delays.</p></div><div class="feature-card"><div class="feature-icon">ğŸ“±</div><h4>Mobile Friendly</h4><p>Earn money anywhere, anytime on any device.</p></div><div class="feature-card"><div class="feature-icon">ğŸ§</div><h4>24/7 Support</h4><p>Get help whenever you need it from our support team.</p></div></div></div></section>
        <section class="cta"><div class="container"><h3 class="cta-title">Ready to Start Earning?</h3><p class="cta-subtitle">Join thousands of users who are already earning money by watching engaging advertisements. It's free, easy, and profitable!</p><div class="cta-buttons"><button class="btn btn-large btn-primary" onclick="showAuthModal('register')">â­ Join Now - It's Free!</button><button class="btn btn-large btn-outline" onclick="showAuthModal('login')">Already a member? Sign In</button></div></div></section>
    </div>
    
    <div id="dashboard-page" class="page">
        <div class="bg-effects"><div class="floating-orb orb-1"></div><div class="floating-orb orb-2"></div><div class="floating-orb orb-3"></div></div>
        <header class="dashboard-header"><div class="container"><div class="dashboard-nav"><div class="logo"><h1>Watchow <span class="gradient-text">Ads</span></h1></div><div class="user-menu"><span id="username-display">Welcome back!</span><button class="btn btn-outline btn-small" onclick="logout()">Sign Out</button></div></div></div></header>
        <main class="dashboard-main"><div class="container">
            
            <!-- User Rank Display Card on Dashboard -->
            <div id="dashboard-user-rank-card" class="dashboard-rank-card">
                <span id="dashboard-rank-icon" class="rank-card-icon">â“</span>
                <div class="rank-card-info">
                    <h4 id="dashboard-rank-name">Rank: Loading...</h4>
                    <div class="rank-card-progress-bar-container">
                        <div id="dashboard-rank-progress-fill" class="rank-card-progress-fill"></div>
                    </div>
                    <p id="dashboard-rank-progress-text">Progress: Loading...</p>
                </div>
            </div>

            <div class="dashboard-stats"><div class="dashboard-card"><div class="stat-icon">ğŸ’°</div><div class="stat-content"><p class="stat-label">Current Balance</p><h3 class="stat-value" id="total-earnings">$0.000</h3></div></div><div class="dashboard-card"><div class="stat-icon">ğŸ†</div><div class="stat-content"><p class="stat-label">Lifetime Earnings</p><h3 class="stat-value" id="lifetime-earnings">$0.000</h3></div></div><div class="dashboard-card"><div class="stat-icon">ğŸ‘ï¸</div><div class="stat-content"><p class="stat-label">Total Ads Watched</p><h3 class="stat-value" id="total-views">0</h3></div></div><div class="dashboard-card"><div class="stat-icon">ğŸ“…</div><div class="stat-content"><p class="stat-label">Today's Views</p><h3 class="stat-value" id="today-views">0</h3></div></div></div><div class="dashboard-grid"><div class="dashboard-section"><div class="watch-ad-card"><div class="watch-ad-icon">â–¶ï¸</div><h3>Ready to Watch an Ad?</h3><p>Each ad view earns you money. Click below to start!</p><button class="btn btn-large btn-primary" id="watch-ad-btn" onclick="watchAd()"><span id="watch-ad-text">â–¶ï¸ Watch Ad & Earn</span></button></div><div class="activity-card"><h4>Recent Ad Views</h4><div id="activity-list" class="activity-list"><div class="no-activity">ğŸ‘ï¸ No ad views yet. Start watching to see your activity!</div></div></div><div class="activity-card" id="withdrawal-history-card"><h4>Withdrawal History</h4><div id="withdrawal-history-list" class="activity-list"><div class="no-activity">ğŸ’¸ No withdrawals made yet.</div></div></div></div><div class="dashboard-sidebar"><div class="profile-card"><div class="profile-avatar" id="profile-avatar">U</div><h4 id="profile-username">Username</h4><p id="profile-email">user@example.com</p><div class="profile-badge">ğŸ† Active Member</div></div><div class="achievements-card"><h4>Achievements</h4><div class="achievements-list"><div class="achievement" id="achievement-100"><div class="achievement-icon">ğŸ†</div><div class="achievement-content"><h5>First 100 Ads</h5><p id="achievement-100-progress">0/100</p></div></div><div class="achievement" id="achievement-streak"><div class="achievement-icon">ğŸ”¥</div><div class="achievement-content"><h5>7-Day Streak</h5><p id="achievement-streak-progress">0/7 days</p></div></div><div class="achievement" id="achievement-1000"><div class="achievement-icon">ğŸ’</div><div class="achievement-content"><h5>1000 Views</h5><p id="achievement-1000-progress">0/1000</p></div></div></div></div><div class="withdrawal-card"><h4>ğŸ’° Withdraw Earnings</h4><p>Minimum withdrawal: $2.0</p><button class="btn btn-primary btn-full" id="withdraw-btn" onclick="withdrawEarnings()" disabled>Withdraw Now</button></div></div></div></div></main>
    </div>
    
    <div id="auth-modal" class="modal"><div class="modal-overlay" onclick="hideAuthModal()"></div><div class="modal-content"><button class="modal-close" onclick="hideAuthModal()">Ã—</button><div id="login-form" class="auth-form"><div class="auth-header"><div class="auth-icon">â–¶ï¸</div><h3>Welcome Back!</h3></div><form onsubmit="handleLogin(event)"><div class="form-group"><label for="login-email">Email</label><input type="email" id="login-email" required placeholder="Enter your email"></div><div class="form-group"><label for="login-password">Password</label><input type="password" id="login-password" required placeholder="Enter your password"></div><button type="submit" class="btn btn-primary btn-full" id="login-btn">Sign In</button></form><div class="forgot-password"><button type="button" onclick="showForgotPassword()" class="link-btn">Forgot your password?</button></div><div class="auth-switch">Don't have an account? <button type="button" onclick="switchAuthMode('register')" class="link-btn">Sign up</button></div></div><div id="forgot-password-form" class="auth-form" style="display: none;"><div class="auth-header"><div class="auth-icon">ğŸ”‘</div><h3>Reset Password</h3></div><form onsubmit="handleForgotPassword(event)"><div class="form-group"><label for="forgot-email">Email</label><input type="email" id="forgot-email" required placeholder="Enter your email address"></div><button type="submit" class="btn btn-primary btn-full" id="forgot-btn">Send Reset Link</button></form><div class="auth-switch">Remember your password? <button type="button" onclick="switchAuthMode('login')" class="link-btn">Sign in</button></div></div><div id="register-form" class="auth-form" style="display: none;"><div class="auth-header"><div class="auth-icon">ğŸ‘¤</div><h3>Join Watchow!</h3></div><form onsubmit="handleRegister(event)"><div class="form-group"><label for="register-username">Username</label><input type="text" id="register-username" required placeholder="Choose a unique username"></div><div class="form-group"><label for="register-email">Email</label><input type="email" id="register-email" required placeholder="Enter your email"></div><div class="form-group"><label for="register-password">Password</label><input type="password" id="register-password" required placeholder="Create a strong password"></div><button type="submit" class="btn btn-primary btn-full" id="register-btn">Create Account</button></form><div class="auth-switch">Already have an account? <button type="button" onclick="switchAuthMode('login')" class="link-btn">Sign in</button></div></div></div></div>
    <div id="toast-container" class="toast-container"></div>
    <script src="script.js"></script>
</body>
</html>
